<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tehe Testimonial Page</title>
    <link rel="stylesheet" href="bcss/bootstrap.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="task2.css">
  </head>
  <body>
    <div class="container mt-5">
      <div class ="row">
        <!-- first section -->
        <div class="col-7 p-3 bg-light">

          <!--coming from js  -->
          <ul id="ulList">
            <!-- <li class="p-4 bor-style">
              <h5 class="text-secondary">tejas raut</h5>
              <p class="text-secondary">Lorem ipsum dolor sit amet consectetur adipisicing elit. 
                Odio assumenda praesentium vitae maxime culpa quos, nostrum quae natus exercitationem 
                ullam.</p>
            </li> -->
          </ul>
          <!--above comming from js  -->

        </div>

        <!-- second section-->
        <div class="col-5 p-3">
          <div>
            <img
              src="assets/sendicon.png"
              height="40px"
              width="40"
              class="border border-3 border-light rounded-circle p-1"
            />
            <span class="h6 p-2 text-secondary text-uppercase">WRITE YOUR EXPERIANCE</span>
          </div>
            <!-- ratings -->
              <!-- form -->
            <form id="form" name="todoForm">
                <p class="mt-4 text-primary font">rating</p>
                <div class="rate">
                  <span class="rating__result"></span>
                  <i class="rating__star fa fa-star"></i>
                  <i class="rating__star fa fa-star"></i>
                  <i class="rating__star fa fa-star"></i>
                  <i class="rating__star fa fa-star"></i>
                  <i class="rating__star fa fa-star"></i> 
                              
                  
                  
                  <!-- <input type="radio" name="rating" id="star-1">
                  <label for="star-1"></label>
                  <input type="radio" name="rating" id="star-2">
                  <label for="star-2"></label>
                  <input type="radio" name="rating" id="star-3">
                  <label for="star-3"></label>
                  <input type="radio" name="rating" id="star-4">
                  <label for="star-4"></label>
                  <input type="radio" name="rating" id="star-5">
                  <label for="star-5"></label>
                  
                  
                   -->
                  
                </div>

                <div class=" mt-3">
                  <input class="p-2 input-style" type="text" id="toDoText" name="todo" placeholder="Name">
                </div>

                  <!-- textarea -->
                  <div class="mt-4">
                    <textarea class="input-style p-2" name="testimonial" id="testimonial" cols="38" rows="7" placeholder="Write Your Experiance Here" ></textarea> 
                  </div>

                  <!-- captcha -->
                  <!-- <p class="h5">Are you human?</p>
                  <div class="submit__generated">
                    <img src="assets/capthyalogo.png" alt="">
                    <i class="fa fa-refresh"></i>
                  </div>               
              
                  <input class=" mt-2 btn btn-outline-secondary"
                        type="button"
                        value="Submit"/>                  
                    -->
                    <button type="submit" id="btnSubmit" class="btn1 btn btn-outline-secondary mt-4" id="btn">Send</button>

            </form>            



          </div>
    </div>


    <script src="task2.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
      integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
      integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
      crossorigin="anonymous"
    ></script>   
</body>
</html>

  
  //css
 *{
margin: 0;
padding: 0;
}
.bor-style{
border: 10px solid rgb(221, 222, 224);
border-radius: 6px;
background-color:  rgb(221, 222, 224);
list-style: none;
}
.btn1{
width: 90%;
}
.font{
font-size: 25px;
}

.input-style{
border:solid gray ;
border-radius: 6px;
}

/* .rate{
direction: rtl;
} */

.star{
margin: 4px;
color: #cfcfcf;    
}
.star2{
color:blue 
}
.rating {
position: relative;
width: 180px;
background: transparent;
display: flex;
justify-content: center;
align-items: center;
gap: .3em;
padding: 5px;
overflow: hidden;
border-radius: 20px;
box-shadow: 0 0 2px #b3acac;
}
.rating__result {
position: absolute;
top: 0;
    left: 0;
    transform: translateY(-10px) translateX(-5px);
    z-index: -9;
    font: 3em Arial, Helvetica, sans-serif;
    color: #ebebeb8e;
    pointer-events: none;
    visibility: hidden;
  }
  .rating__star {
    font-size: 1.3em;
    cursor: pointer;
    color: #ccc7aab2;
    transition: filter linear 0.3s;
  } 
  .rating__star2 {
    font-size: 1.3em;
    cursor: pointer;
    color: #efcd0bb2;
    transition: filter linear 0.3s;
  } 

  //js
  
  //Star rating code
const ratingStars = [...document.getElementsByClassName("rating__star")];
const ratingResult = document.querySelector(".rating__result");

printRatingResult(ratingResult);

function executeRating(stars, result) {
   const starClassActive = "rating__star2 fa fa-star";
   const starClassUnactive = "rating__star fa fa-star";
   var starsLength = stars.length;
   let i;
   stars.map((star) => {
      star.onclick = () => {
         i = stars.indexOf(star);

         if (star.className.indexOf(starClassUnactive) !== -1) {
            printRatingResult(result, i + 1);
            for (i; i >= 0; --i) stars[i].className = starClassActive;
         } else {
            printRatingResult(result, i);
            for (i; i < starsLength; ++i) stars[i].className = starClassUnactive;
         }
      };
   });
   const form = document.getElementById('form')
   let list = document.getElementById("ulList");
   
   form.addEventListener('submit', (e) => {
       e.preventDefault();
       let todoText = todoForm.elements["todo"].value
       let areaText = todoForm.elements["testimonial"].value
       let ratedStars = document.getElementsByClassName('rating__star2')
           
       form.reset()
    //    let length = ratedStars.length
        
    console.log(Number(ratingResult.innerHTML))    
    // Number(ratingResult)
    let starNo = Number(ratingResult.innerHTML)
    switch(starNo){
        case 5:
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
       <div class="rate mt-2 case_5">
       <span class="rating__result"></span>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>`)
      case 1:
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
        <div class="rate mt-2 case_1">
       <span class="rating__result"></span>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>` )
      case 2:
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
        <div class="rate mt-2 case_2">
       <span class="rating__result"></span>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>` )
      case 3:
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
        <div class="rate mt-2 case_3">
       <span class="rating__result"></span>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>` )
      case 4:
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
        <div class="rate mt-2 case_4">
       <span class="rating__result"></span>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star2 fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>` )
      default :
        return(list.innerHTML += `<li class="p-2 mt-4 bor-style text-secondary">
        ${todoText}                    
       
       
        <div class="rate mt-2 case_0">
       <span class="rating__result"></span>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>
       <i class="rating__star fa fa-star"></i>     
       </div>    
       <p class="mt-2">${areaText}</p>
      </li>` )
     }

})

}


function printRatingResult(result, num = 0) {
   result.textContent = `${num}`;
}

executeRating(ratingStars, ratingResult);
